{"./":{"url":"./","title":"首页","keywords":"","body":"安装说明安装说明 全文都为作者实测安装 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1.html":{"url":"chapter1.html","title":"linux","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1/centos.html":{"url":"chapter1/centos.html","title":"Centos","keywords":"","body":"3.安装CentOS1.打开VMware选择新建虚拟机 2.典型安装与自定义安装 典型安装：VMware会将主流的配置应用在虚拟机的操作系统上，对于新手来很友好。 自定义安装：自定义安装可以针对性的把一些资源加强，把不需要的资源移除。避免资源的浪费。 这里我选择自定义安装。 3.虚拟机兼容性选择 这里要注意兼容性，如果是VMware12创建的虚拟机复制到VM11、10或者更低的版本会出现一不兼容的现象。如果是用VMware10创建的虚拟机在VMware12中打开则不会出现兼容性问题。 4.选择稍后安装操作系统 5.操作系统的选择 这里选择之后安装的操作系统，正确的选择会让vm tools更好的兼容。这里选择linux下的CentOS 6.虚拟机位置与命名 虚拟机名称就是一个名字，在虚拟机多的时候方便自己找到。 VMware的默认位置是在C盘下，我这里改成D盘。 7.处理器与内存的分配 处理器分配要根据自己的实际需求来分配。在使用过程中CPU不够的话是可以再增加的。这次只做安装CentOS演示，所以处理器与核心都选1. 内存也是要根据实际的需求分配。我的宿主机内存是8G所以我给虚拟机分配2G内存。 8.网络连接类型的选择，网络连接类型一共有桥接、NAT、仅主机和不联网四种。 桥接：选择桥接模式的话虚拟机和宿主机在网络上就是平级的关系，相当于连接在同一交换机上。 NAT：NAT模式就是虚拟机要联网得先通过宿主机才能和外面进行通信。 仅主机：虚拟机与宿主机直接连起来 桥接与NAT模式访问互联网过程，如下图所示 桥接与NAT区别 9.其余两项按虚拟机默认选项即可 10.磁盘容量 磁盘容量暂时分配100G即可后期可以随时增加，不要勾选立即分配所有磁盘，否则虚拟机会将100G直接分配给CentOS，会导致宿主机所剩硬盘容量减少。 勾选将虚拟磁盘拆分成多个文件，这样可以使虚拟机方便用储存设备拷贝复制。 11.磁盘名称，默认即可 12.取消不需要的硬件 点击自定义硬件 选择声卡、打印机等不需要的硬件然后移除。 13.点击完成，已经创建好虚拟机。 3.安装CentOS 1.连接光盘 右击刚创建的虚拟机，选择设置 先选择CD/DVD，再选择使用ISO映像文件，最后选择浏览找到下载好的镜像文件。启动时连接一定要勾选上后确定。 2.开启虚拟机 3.安装操作系统 开启虚拟机后会出现以下界面: Install CentOS 7 安装CentOS 7 Test this media & install CentOS 7 测试安装文件并安装CentOS 7 Troubleshooting 修复故障 重点：选择第一项，安装直接CentOS 7，回车，进入下面的界面 选择安装过程中使用的语言，这里选择英文、键盘选择美式键盘。点击Continue 首先设置时间 时区选择上海，查看时间是否正确。然后点击Done 选择需要安装的软件 选择 Server with Gui，然后点击Done 选择安装位置，在这里可以进行磁盘划分。 选择i wil configure partitioning（我将会配置分区），然后点击done 如下图所示，点击加号，选择/boot，给boot分区分200M。最后点击Add 然后以同样的办法给其他三个区分配好空间后点击Done 然后会弹出摘要信息，点击AcceptChanges(接受更改) 设置主机名与网卡信息 首先要打开网卡，然后查看是否能获取到IP地址(我这里是桥接)，再更改主机名后点击Done。 最后选择Begin Installation(开始安装) 设置root密码 设置root密码后点击Done 点击USER CREATION 创建管理员用户 输入用户名密码后点击Done 等待系统安装完毕重启系统即可 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1/centos/mysql.html":{"url":"chapter1/centos/mysql.html","title":"mysql","keywords":"","body":"Mysql安装Mysql安装 1.查看mysql是否存在，存在先卸载 rpm -qa | grep mysql 2.下载MySQL仓库并安装 wget https://repo.mysql.com//mysql80-community-release-el7-3.noarch.rpm yum -y install mysql80-community-release-el7-3.noarch.rpm 3.默认安装MySQL8.0，如果需要使用MySQL5.7的话需要修改/etc/yum.repos.d/mysql-community.repo配置文件 将mysql80中enabled属性改为0，并添加图中红框内代码(安装MySQL8.0跳过该步骤) 4.安装MySQL数据库 yum -y install mysql-community-server 5.开启mysql服务 systemctl start mysqld.service 6.查看mysql默认密码并登陆 cat /var/log/mysqld.log | grep password mysql -uroot -p 7.修改初始密码（若想改为弱密码） SHOW variables LIKE 'validate_password%'; 注：有可能遇到情况，此时先修改密码为强密码，便可以继续进行修改密码验证策略操作 将密码验证策略改为LOW，密码长度4位以上 1 set global validate_password.policy=0; 2 set global validate_password.length=4; #重启MySQL后失效 此时再进行修改密码操作，可以修改为弱密码了 ALTER USER 'root'@'localhost' IDENTIFIED BY 'your password'; set password = 'your password'; #两种命令二选一进行修改密码 以后便可以使用你自己设置的密码登陆 8.设置远程连接(前提：关闭防火墙或开放3306端口) 在实际工作中，经常会用到诸如DBeaver等的数据库管理工具进行远程连接mysql数据库，需要设置允许远程连接。 在mysql数据库的user表中查看host，默认只允许localhost访问 只需将localhost改为%允许任意地址访问即可 update user set host = '%' where user = 'root'; flush privileges; # 刷新权限 权限更新后刷新才会起作用 注：如果使用客户端连接提示了plugin caching_sha2_password错误，这是因为MySQL8.0的密码策略默认为caching_sha2_password(MySQL5.7无此问题) update user set plugin = 'mysql_native_password' where user = 'root'; flush privileges; # 刷新权限 权限更新后刷新才会起作用 如果使用DBeaver建立MySQL 8+连接，无需修改默认密码策略，但可能会提示Public Key Retrieval is not allowed错误 这是因为MySQL8.0的密码策略默认为caching_sha2_password认证，密码在传输过程中必须使用 SSL 协议保护，但是如果 RSA 公钥不可用，可以使用服务器提供的公钥；需要修改AllowPublicKeyRetrieval=True参数以允许客户端从服务器获取公钥，在Dbeaver的修改如下： 修改完成后可以正确建立远程连接 9.my.cnf配置文件 前言：若rpm安装无/etc/my.cnf文件，需将/usr/share/mysql目录下配置文件复制至/etc目录下 cp /usr/share/mysql/my-large.cnf /etc/my.cnf [client] port = 3306 socket = /var/run/mysql/mysql.sock [mysqldump] quick max_allowed_packet = 16M 以上参数会被 MySQL 客户端应用读取，参数说明如下： port：MySQL 客户端连接服务器端时使用的端口号，默认为 3306 socket：套接字文件所在目录 quick：支持较大的数据库转储，导出非常巨大的表时需要此项。 max_allowed_packet：服务所能处理的请求包的最大大小以及服务所能处理的最大的请求大小（当与大的BLOB字段一起工作时相当必要），每个连接独立的大小，大小动态增加。 [mysqld] user = mysql basedir = /usr/local/mysql datadir = /mydata/mysql/data port = 3306 server-id = 1 socket = /var/run/mysql/mysql.sock 上述参数说明如下： user：mysqld 程序在启动后将在给定 UNIX/Linux 账户下执行。mysqld 必须从 root 账户启动才能在启动后切换到另一个账户下执行。mysqld_safe 脚本将默认使用 user=mysql 选项来启动 mysqld 程序。 basedir：指定 MySQL 安装的绝对路径； datadir：指定 MySQL 数据存放的绝对路径； port：服务端口号，默认为 3306 server-id：MySQL 服务的唯一编号，每个 MySQL 服务的 id 需唯一。 socket：socket 文件所在目录 character-set-server = utf8mb4 collation-server = utf8mb4_general_ci init_connect = 'SET NAMES utf8mb4' lower_case_table_names = 1 key_buffer_size = 16M max_allowed_packet = 8M no-auto-rehash sql_mode=TRADITIONAL skip-grant-tables character-set-server：数据库默认字符集 collation-server：数据库字符集对应一些排序等规则，注意要和character-set-server对应 init_connect：设置client连接mysql时的字符集，防止乱码 lower_case_table_names：是否对sql语句大小写敏感，1表示不敏感(MySQL8.0+需要初始化之前设置) key_buffer_size：用于指定索引缓冲区的大小 max_allowed_packet：设置一次消息传输的最大值 no-auto-rehash：仅仅允许使用键值的UPDATES和DELETES sql_mode：表示 SQL 模式的参数，通过这个参数可以设置检验 SQL 语句的严格程度 skip-grant-tables：跳过密码验证 (平时不要开启，忘记root密码时再使用) 忘记root密码时： 重置root密码为空(开启skip-grant-tables) UPDATE mysql.user SET authentication_string = '' WHERE user = 'root'; console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1/centos/fang-huo-qiang-she-zhi.html":{"url":"chapter1/centos/fang-huo-qiang-she-zhi.html","title":"防火墙设置","keywords":"","body":"linux-centos7-防火墙linux-centos7-防火墙 1、开放端口 firewall-cmd --zone=public --add-port=5672/tcp --permanent # 开放5672端口 firewall-cmd --zone=public --remove-port=5672/tcp --permanent #关闭5672端口 firewall-cmd --reload # 配置立即生效 2、查看防火墙所有开放的端口 firewall-cmd --zone=public --list-ports 3.、关闭防火墙 如果要开放的端口太多，嫌麻烦，可以关闭防火墙，安全性自行评估 systemctl stop firewalld.service 4、查看防火墙状态 firewall-cmd --state 5、查看监听的端口 netstat -lnpt PS:centos7默认没有 netstat 命令，需要安装 net-tools 工具，yum install -y net-tools 6、检查端口被哪个进程占用 netstat -lnpt |grep 5672 7、查看进程的详细信息 ps 6832 8、中止进程 kill -9 6832 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1/centos/xie-zai-mysql.html":{"url":"chapter1/centos/xie-zai-mysql.html","title":"卸载mysql","keywords":"","body":"卸载mysql卸载mysql 方法一、 1.查看mysql安装 rpm -qa|grep -i mysql 2.卸载前关闭mysql服务 rpm -ev --nodeps 上面的 执行完命令之后再次执行 rpm-qa|grep -i mysql 会发现已经卸载完成。 执行完命令之后再次执行 rpm-qa|grep -i mysql 会发现已经卸载完成。 方法二、 执行命令 find / -name mysql 把查找出的目录删除 rm -rf 上面查出的文件夹 etc/my.cnf 如果存在的话手动删除，这样mysql就卸载完成了。 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chapter1/ubuntu.html":{"url":"chapter1/ubuntu.html","title":"Ubuntu","keywords":"","body":" 下载vm 下载ubuntu镜像 升级电脑到专业版 开启 Hyper-v 功能 重启电脑 打开 vm 开始安装 创建新的虚拟机 配置信息 不修改 下一步 选择镜像 设置名称以及账户密码 然后下一步 设置处理器 根据自己的电脑配置设置(并不是越高越好) 设置 内存 网络模式 NAT I/O 推荐即可 磁盘 推荐即可 内存 用不了多少东西 这样会更快（除非拿虚拟机当主力机器） 无需更改 无需自定义(以后也可以修改) 点击完成 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"windos.html":{"url":"windos.html","title":"windos","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"an-zhuang-nav-15.html":{"url":"an-zhuang-nav-15.html","title":"安装 nav 15","keywords":"","body":" 下载 nav 15 自定义安装即可，一直下一步 下载破解工具 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"}}